---
title: "Introduction"
description: "Motivation, goals, non-goals, and terminology for MRS."
---

## Abstract

MRS (Music Representation Syntax) is a format for encoding musical scores optimized for AI-assisted composition workflows:

- **MRS-S**: A single canonical format (S-expression based) for complete, archival-quality scores with stable UUID identifiers
- **Working Set Envelopes**: Scoped MRS-S fragments with context rings for bounded agent operations
- **Synopsis**: Compressed structural views providing global awareness
- **Overlays**: Analytical metadata attached to score regions

Agents receive valid MRS-S and return valid MRS-S—no second syntax, no format conversion, no parsing ambiguity.

See: [`/MRS-Specification-RFC#abstract`](/MRS-Specification-RFC#abstract)

## The Vision

**MRS enables AI-driven composition of full orchestral works—symphonies, vocal arrangements, film scores—through iterative conversation with humans in the loop.**

This is the "opencode of Dorico": professional-grade notation infrastructure designed from the ground up for agent-driven workflows. The goal is not simplified demos, but the hardest version of the problem: creating complex, multi-movement works from scratch with the granularity required for professional projects.

For a detailed feasibility analysis, see: [The Problem & Why MRS is Feasible](/problem-and-approach)

## Motivation

MRS addresses three fundamental challenges in AI-assisted music composition:

### The Scale Problem

A full orchestral score is too large for any context window. Editing measure 847 should not require loading measures 1-846.

| Score Type | Approx. Tokens |
|------------|----------------|
| Lead sheet | ~2K |
| Piano sonata | ~40K |
| Full orchestra | ~1.5M |

### The Context Problem

Musical decisions require understanding surrounding material. An agent writing a countermelody needs to know phrase boundaries, harmonic rhythm, and thematic relationships—not just the target measures in isolation.

### The Structural Fragility Problem

Existing formats use positional references that break during editing. Insert a measure, and every reference to "measure 45" is now wrong. MRS solves this with UUID-first identity.

MRS solves these through:
- **Stable UUID identifiers** for measures and events (not position-dependent references)
- **Context rings** providing surrounding material at graduated detail levels
- **Synopsis** offering compressed structural views for global awareness
- **A single canonical syntax** for all operations
- **An orchestrator pattern** with edit lanes for safe multi-agent workflows

See: [`/MRS-Specification-RFC#1-introduction`](/MRS-Specification-RFC#1-introduction)

## Goals

1. **Semantic completeness**: Encode everything a professional engraver needs
2. **Deterministic parsing**: One input → one parse tree, always
3. **Structural stability**: UUID identifiers survive insertions and deletions
4. **Context-aware operations**: Agents work with appropriate surrounding context
5. **Machine-friendly generation**: Predictable patterns for reliable LLM output
6. **Human auditability**: People can review and debug outputs
7. **Diff-friendly structure**: Line-based changes produce meaningful diffs
8. **Renderer-agnostic semantics**: Describe *what*, not *how to draw*
9. **From-scratch composition**: Support iterative creation, not just editing

See: [`/MRS-Specification-RFC#1-2-goals`](/MRS-Specification-RFC#1-2-goals)

## Non-goals

MRS explicitly does *not* attempt to:

- Encode detailed visual layout (beyond optional hints)
- Provide a programming language (no loops/macros/conditionals)
- Define synthesis/playback behavior
- Replace domain-specific formats (e.g. audio, MIDI, engraving source)

See: [`/MRS-Specification-RFC#1-3-non-goals`](/MRS-Specification-RFC#1-3-non-goals)

## Terminology

Key terms used throughout the spec:

| Term | Definition |
|------|------------|
| Score | A complete musical work in MRS format |
| Part | A single instrument or voice throughout a score |
| Staff | A visual grouping of five lines; parts may have multiple staves |
| Voice | An independent melodic/rhythmic stream within a staff (local per measure) |
| Measure | A metrical unit bounded by barlines, identified by UUID |
| Event | An atomic musical occurrence (note, rest, chord), identified by UUID |
| Span | A relation connecting multiple events (slur, beam, hairpin) |
| Synopsis | A compressed structural view of the full score |
| Working Set Envelope | A scoped MRS-S fragment with context for agent tasks |
| Context Ring | Surrounding material at reduced detail level |
| Overlay | Analytical metadata attached to score regions |
| Orchestrator | System that coordinates agent tasks and manages the full score |
| Edit Lane | A capability boundary defining what an agent may modify |
| HarmonyPlan | Embedded layer for chord symbols and harmonic structure |
| Placeholder | Explicit marker for intentionally incomplete content |

See: [`/MRS-Specification-RFC#1-4-terminology`](/MRS-Specification-RFC#1-4-terminology)

## Architecture at a Glance

```
         ORCHESTRATOR (owns canonical MRS-S state)
                │
    ┌───────────┼───────────┬───────────┐
    ▼           ▼           ▼           ▼
 Harmony    Melody      Orch.      Expression
  Agent      Agent      Agent        Agent
    │           │           │           │
    └───────────┴───────────┴───────────┘
                │
         Working Set Envelopes
         (scoped MRS-S + edit lanes)
```

Multiple agents can work in parallel, but only the orchestrator commits changes. Edit lanes ensure agents with disjoint concerns can safely edit the same region.

See: [Orchestrator Contract](/orchestrator-contract) for details on lanes, transactions, and merge semantics.
