---
title: "MRS: Music Representation Syntax"
description: "A format for encoding musical scores optimized for AI-assisted composition workflows."
---

# MRS: Music Representation Syntax

**MRS enables AI-driven composition of full orchestral works—symphonies, vocal arrangements, film scores—through iterative conversation with humans in the loop.**

Think of it as the **"opencode of Dorico"**: professional-grade notation infrastructure designed from the ground up for agent-driven workflows. The goal is the hardest version of the problem: creating complex, multi-movement works from scratch with the granularity required for professional projects.

## Why MRS?

AI cannot currently compose or edit full orchestral scores reliably. Three fundamental challenges block progress:

1. **Scale**: A full orchestral score (~1.5M tokens) exceeds any context window
2. **Context**: Musical decisions require understanding surrounding material
3. **Reliability**: Asking AI to emit complete score fragments creates high failure rates

MRS solves these through architectural separation:

- **MRS-S** for storage: Complete, archival-quality encoding with stable UUIDs
- **MRS-Ops** for mutation: Typed operation protocol with orchestrator-derived fields
- **Task-adaptive context**: Dynamic views tailored to specific editing tasks
- **Orchestrator authority**: Single source of truth for UUIDs, derived fields, and state

**Is this approach feasible?** [Yes—read the detailed analysis →](/problem-and-approach)

## Core Architecture

```
┌─────────────────────────────────────────────────────────────┐
│                    SEMANTIC MODEL                            │
│         (One meaning, multiple representations)              │
└─────────────────────────────────────────────────────────────┘
                    │                    │
           ┌───────┴───────┐    ┌───────┴───────┐
           │    MRS-S      │    │   MRS-Ops     │
           │  (storage,    │    │  (mutation,   │
           │   reading)    │    │   writing)    │
           └───────────────┘    └───────────────┘
```

**MRS-S**: Agents read complete, human-auditable score fragments
**MRS-Ops**: Agents write typed operations that the orchestrator validates and applies

## Key Features

### Separation of Storage and Mutation
Different formats optimized for different purposes. Agents read MRS-S for complete context; agents write typed operations for reliable mutations. This eliminates accidental deletions, calculation errors, and hallucinated references.

### Player-Instrument-Staff Model
Professional orchestration semantics with instrument doubling and switching. Flute 2 can double piccolo. Clarinet can switch from Bb to A. Percussion players can cover multiple instruments.

### Orchestrator Authority
The orchestrator is the sole authority for UUID minting, derived field computation, and state management. Agents use temporary IDs; the orchestrator assigns final UUIDs. This eliminates coordination failures.

### Task-Adaptive Context
Agents receive context views tailored to their specific task—not fixed "near/far" rings. A countermelody task gets the melody it responds to. An orchestration task gets the texture map.

### Progressive Validation
Operations are validated in stages before application: syntax, references, permissions, musical rules. Errors are caught before state mutation with specific feedback.

### Lane Bundles
Common workflows grant multiple related lanes. "Orchestrate" grants notes + expression + technique. Reduces negotiation overhead for arrangers.

## Quick Links

**Getting Started**
- [The Problem & Why MRS is Feasible](/problem-and-approach) — Detailed feasibility analysis
- [Introduction](/introduction) — Motivation, goals, and terminology
- [Design Principles](/design-principles) — Core design philosophy
- [Quickstart](/quickstart) — Get started with MRS

**Architecture**
- [Architecture Overview](/architecture-overview) — How components work together
- [Orchestrator Contract](/orchestrator-contract) — Validation, transactions, conflict detection
- [Working Set Envelope](/working-set-envelope) — Scoped extraction with context

**Specification**
- [MRS Specification RFC](/MRS-Specification-RFC) — Full normative specification

## The Hardest Version of the Problem

MRS is designed for symphonies-from-scratch: iterative creation of complex multi-movement works through AI conversation. This means supporting:

- **Professional orchestration**: Player/instrument model with doubling and switching
- **Structural creation**: Insert measures, sections, movements—not just edit existing content
- **Incomplete states**: Early-stage work has placeholders ("strings texture TBD")
- **Reliable iteration**: Typed operations minimize repair loops
- **Human checkpoints**: Lock form, lock harmony, lock orchestration progressively

If MRS handles symphonies-from-scratch, it handles everything simpler too.
